<!DOCTYPE html>
<html dir="ltr" lang="ru-RU" prefix="og: https://ogp.me/ns#" data-menu="leftalign" style="" class="">
	<head>
	    <title>Test</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="content-type" content="text/html; charset=cp1251">
		<link rel="stylesheet" href="css/index.css" type="text/css" />
		<!-- Yandex.Metrika counter -->
		<script type="text/javascript" >
		   (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
		   m[i].l=1*new Date();
		   for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
		   k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
		   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

		   ym(90834919, "init", {
			clickmap:true,
			trackLinks:true,
			accurateTrackBounce:true
		   });
		</script>
		<noscript><div><img src="https://mc.yandex.ru/watch/90834919" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
		<!-- /Yandex.Metrika counter -->
		
		<!-- Roistat Counter Start -->
		<script>
		(function(w, d, s, h, id) {
		    w.roistatProjectId = id; w.roistatHost = h;
		    var p = d.location.protocol == "https:" ? "https://" : "http://";
		    var u = /^.*roistat_visit=[^;]+(.*)?$/.test(d.cookie) ? "/dist/module.js" : "/api/site/1.0/"+id+"/init?referrer="+encodeURIComponent(d.location.href);
		    var js = d.createElement(s); js.charset="UTF-8"; js.async = 1; js.src = p+h+u; var js2 = d.getElementsByTagName(s)[0]; js2.parentNode.insertBefore(js, js2);
		})(window, document, 'script', 'cloud.roistat.com', 'a007755ec3dfbe552c7b8674087648b0');
		</script>
		<!-- Roistat Counter End -->

		<!-- VKMiniApp -->
		<script src="https://unpkg.com/@vkontakte/vk-bridge/dist/browser.min.js"></script>
		<script>
		  // Sends event to client
		  vkBridge.send('VKWebAppInit');
		</script>
		<script type="text/javascript">
		    (function(k,o,t,e,l){
			l = document.createElement("script");
			l.type = "text/javascript";
			l.src = "https://bookonline24.ru/widget.js";
			l.async = !0;
			l.onload = l.onreadystatechange = function() {
			    e = this.readyState;
			    !o && (!e || e === "complete") && (o = 1) && k();
			};
			t = document.getElementsByTagName("script")[0];
			t.parentNode.insertBefore(l, t);
		    })(function(){
			HotelWidget.init({
			    // ID организации; ID html элемента нужно проставить ниже в поле container
			    hotelId: "e1df14f4-73de-428f-b46a-e10b445873e7",
			    version: "2",
			    baseUrl: "https://bookonline24.ru/",
			    hooks: {
				onError: function(e) { console.error("onError", e); },
				onInit: function() { console.log("onInit"); roistat.event.send('init')},
				onBooking: (booking) => {
					console.log("Metriks!!!");
				        console.log("Booking: ", JSON.stringify(booking.map(el => el.id), null, 2));},
			    }
			}); 
		
			<!-- Поиск и бронирование номеров — вертикальный блок -->
			HotelWidget.add({
			    type: "verticalBlock",
			    appearance: {
				// Замените на ID html элемента, в который нужно вставить виджет
				container: "baltika"
			    }
			});
		
			<!-- Бронирование номеров -->
			HotelWidget.add({
			    type: "roomsList",
			    appearance: {
				// Замените на ID html элемента, в который нужно вставить виджет
				container: "rooms-list-baltika"
			    }
			});
		
			<!-- Просмотр календаря доступности — вертикальный блок -->
			HotelWidget.add({
			    type: "verticalAvailabilityCalendar",
			    appearance: {
				// Замените на ID html элемента, в который нужно вставить виджет
				container: "baltika-calendar"
			    }
			});
		
			<!-- Просмотр календаря доступности — горизонтальный блок -->
			HotelWidget.add({
			    type: "horizontalAvailabilityCalendar",
			    appearance: {
				// Замените на ID html элемента, в который нужно вставить виджет
				container: "baltika-calendar-horizontal"
			    }
			});

			<!-- Бронирование почасовых объектов -->
		        HotelWidget.add({
		            type: "hourlyObjectsList",
		            appearance: {
		                // Замените на ID html элемента, в который нужно вставить виджет
		                container: "hourly-list-baltika"
		            }
		        });
		    });
		</script>
	</head>
	<body>
	    <h1>МОБ виджет тест</h1>
		<div id="baltika">			
	    	    <p>Балтика</p>
		</div>
		<div id="baltika-calendar">			
	    	    <p>Балтика-календарь</p>
		</div>
		<div class="lists">
			<div id="rooms-list-baltika">			
		    	    <h2>Номера Балтики</h2>		
			</div>
			<div id="hourly-list-baltika">			
		    	    <h2>Почасовые и всякие экскурсии Балтики</h2>		
			</div>	
		</div>
	</body>
</html>
